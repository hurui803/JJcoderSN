# NAT模式、路由模式、桥接模式 区别对比

NAT英文全称是“Network Address Translation”，中文意思是“网络地址转换”，它是一个IETF(Internet Engineering Task Force, Internet工程任务组)标准，允许一个整体机构以一个公用IP（Internet Protocol）地址出现在Internet上。顾名思义，它是一种把内部私有网络地址（IP地址）翻译成合法网络IP地址的技术。

　　简单的说，NAT就是在局域网内部网络中使用内部地址，而当内部节点要与外部网络进行通讯时，就在网关（可以理解为出口，打个比方就像院子的门一样）处，将内部地址替换成公用地址，从而在外部公网（internet）上正常使用，NAT可以使多台计算机共享Internet连接，这一功能很好地解决了公共IP地址紧缺的问题。通过这种方法，您可以只申请一个合法IP地址，就把整个局域网中的计算机接入Internet中。这时，NAT屏蔽了内部网络，所有内部网计算机对于公共网络来说是不可见的，而内部网计算机用户通常不会意识到NAT的存在。**这里提到的内部地址**，是指在内部网络中分配给节点的私有IP地址，这个地址**只能在内部网络中使用，不能被路由**（一种网络技术，可以实现不同路径转发）。

***\*在\**\**IP\******地址中专门保留了三个区域作为私有地址**，其地址范围如下：*
*　　*10.0.0.0/8*：*10.0.0.0*～*10.255.255.255
*　　*172.16.0.0/12*：*172.16.0.0*～*172.31.255.255
*　　*192.168.0.0/16*：*192.168.0.0*～*192.168.255.255*

NAT将这些无法在互联网上使用的保留IP地址翻译成可以在互联网上使用的合法IP地址。而全局地址，是指合法的IP地址，它是由NIC（网络信息中心）或者ISP(网络服务提供商)分配的地址，对外代表一个或多个内部局部地址，是全球统一的可寻址的地址。

　　NAT功能通常被集成到路由器、防火墙、ISDN路由器或者单独的NAT设备中。比如Cisco路由器中已经加入这一功能，网络管理员只需在路由器的IOS中设置NAT功能，就可以实现对内部网络的屏蔽。再比如防火墙将WEB Server的内部地址192.168.1.1映射为外部地址202.96.23.11，外部访问202.96.23.11地址实际上就是访问192.168.1.1。另外资金有限的小型企业来说，现在通过软件也可以实现这一功能。

　　NAT技术类型

　　NAT有三种类型：静态NAT(Static NAT)、动态地址NAT(Pooled NAT)、网络地址端口转换NAPT（Port－Level NAT）。

　　其中静态NAT设置起来最为简单和最容易实现的一种，内部网络中的每个主机都被永久映射成外部网络中的某个合法的地址。而动态地址NAT则是在外部网络中定义了一系列的合法地址，采用动态分配的方法映射到内部网络。NAPT则是把内部地址映射到外部网络的一个IP地址的不同端口上。根据不同的需要，三种NAT方案各有利弊。

　　动态地址NAT只是转换IP地址，它为每一个内部的IP地址分配一个临时的外部IP地址，主要应用于拨号，对于频繁的远程联接也可以采用动态NAT。当远程用户联接上之后，动态地址NAT就会分配给他一个IP地址，用户断开时，这个IP地址就会被释放而留待以后使用。

　　网络地址端口转换NAPT（Network Address Port Translation）是人们比较熟悉的一种转换方式。NAPT普遍应用于接入设备中，它可以将中小型的网络隐藏在一个合法的IP地址后面。NAPT与动态地址NAT不同，`它将内部连接映射到外部网络中的一个单独的IP地址上，同时在该地址上加上一个由NAT设备选定的TCP端口号`。



　　在Internet中使用NAPT时，所有不同的信息流看起来好像来源于同一个IP地址。这个优点在小型办公室内非常实用，通过从ISP处申请的一个IP地址，将多个连接通过NAPT接入Internet。实际上，许多SOHO远程访问设备支持基于PPP的动态IP地址。这样，ISP甚至不需要支持NAPT，就可以做到多个内部IP地址共用一个外部IP地址上Internet，虽然这样会导致信道的一定拥塞，但考虑到节省的ISP上网费用和易管理的特点，用NAPT还是很值得的。

**桥接、路由。NAT简单通俗的解释：**

NAT是一种地址转换协议,其实它并不是简单的把私有地址转换为公有地址，而是把私有接口的地址转换为公有接口的地址。也就是说也可以把私有地址转换为私有地址，它可以说是一个非法上网的桥梁. 

网桥是一种对帧进行转发的技术，根据MAC分区块，可隔离碰撞。网桥将网络的多个网段在数据链路层连接起来。

网桥将两个相似的网络连接起来，并对网络数据的流通进行管理。它工作于数据链路层，不但能扩展网络的距离或范围，而且可提高网络的性能、可靠性和安全性。网络1 和网络2 通过网桥连接后，网桥接收网络1 发送的数据包，检查数据包中的地址，如果地址属于网络1 ，它就将其放弃，相反，如果是网络2 的地址，它就继续发送给网络2。**这样可利用网桥隔离信息，将同一个网络号划分成多个网段（属于同一个网络号），隔离出安全网段，防止其他网段内的用户非法访问。**由于网络的分段，各网段相对独立（属于同一个网络号），一个网段的故障不会影响到另一个网段的运行。


路由就是,路由选择方式转发数据.从路由表中选择出最优路由进行转发,其实IP地址的用处在于,逻辑地把MAC地址组合成一个组合,组合中有个带头人,带头人是我们平时说的网关,只要和网关联系,即可找到相应的主机,也就是MAC地址

桥接、路由形象易懂的解释：

网络上传输数据的过程可以用以下方式进行比喻:
把网络上传输的数据包比作一箱货物，现在准备把该货物从A点向B点发送。
第一步:对货物(数据包)进行包装，防止在路上散架或被盗(丢失或被监听)，在包装过程中为了便于B接收方方便地解开包装，全世界对这个包装方法进行了规定(协议由此诞生，我们常用的TCP/IP就是这样的协议)，在A处一共加上7层包装纸(OSI 7层模型)。
第二步:包装完，就要对这个货物进行传输了，这时存在两种方式，一个是桥接，一个是路由。桥接相当于一条条的大马路，货物通过马路向B传送;而路由相当于交通警察，他将告诉货物哪条才是最近、最快到达B点的路线，所以在关键的十字路口要安放必要的路由器对货物路线进行指挥。
第三步:当货物到达B后，将按照上面约定的捆绑方式(TCP/IP协议)来解开包装